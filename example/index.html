<html>

<head>
    <title>
        Calling my rest api server
    </title>
</head>

<body>

</body>

<script>

    var data = { data: 'demo', ptr: "jaja" }

    fetch("http://localhost/Restfull/api/users",
        {
            headers: {
                "Content-Type": "application/json"
            },
            method: "POST",
            body: JSON.stringify(data)
        }
    ).then(response => {
        let resp;
        try {
            resp = response.json()
        } catch {
            resp = response.text()
        }
        return resp;
    }
    ).then(
        response => {
            try {
                document.body.innerHTML = JSON.stringify(response) + "<br/><hr/>From json " + JSON.stringify(data);
                console.log(response)
                console.log("From json");
            } catch (ex) {
                document.body.innerHTML = response + "<br/><hr/>From text " + JSON.stringify(data);
                console.log(response);
                console.log("From text");
                console.log(ex);
            }
        }
    ).catch(function (error) {
        document.body.innerHTML = 'Hubo un problema con la peticion Fetch: ' + error.message;
        console.log('Hubo un problema con la peticion Fetch:' + error.message);
    });

//     const data = new FormData();
//     data.append('param1', 'DesarrolloWeb.com');
//     data.append('param2', 4);

//     fetch("http://localhost/Restfull/api.php",
//     { 
//         headers : {
//         "X-Restfull-Func" : "putMethodDemo",
//         "Content-Type" : "multipart/x-www-form-urlencoded"

//     },
//     method:"PUT",
//     body: data
//     }
//     ).then( response => {
//         let resp;
//         try {
//             resp = response.json()
//         } catch {
//             resp =  response.text()
//         }
//         return resp;
//     }
// ).then(
//     response => {
//         document.body.innerHTML = JSON.stringify(response);
//         console.log(response)
//     }
// ).catch(function(error) {
//     document.body.innerHTML ='Hubo un problema con la peticion Fetch: ' + error.message;
//   console.log('Hubo un problema con la peticion Fetch:' + error.message);
// });
</script>

</html>